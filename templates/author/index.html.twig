{% extends 'base.html.twig' %}

{% block title %}Author index{% endblock %}

{% block body %}
    <h1>Author index</h1>

    {{ vue_data('items', authors) }}
    {{ vue_data('headers', [
        { text: 'Id', value: 'id' },
        { text: 'Name', value: 'name' },
        { text: '', value: 'actions', sortable: false },
    ]) }}
    {{ vue_data('search', '') }}
    <v-data-table :headers="headers" :items="items" :search="search">
        <template v-slot:top>
            <v-text-field v-model="search" placeholder="Search" prepend-inner-icon="mdi-magnify"></v-text-field>
        </template>
        <template v-slot:item.actions="{ item }">
            <v-btn icon :href="'{{ path('author_show', {'id': '_id_'}) }}'.replace('_id_', item.id)">
                <v-icon>mdi-eye</v-icon>
            </v-btn>
            <v-btn icon :href="'{{ path('author_edit', {'id': '_id_'}) }}'.replace('_id_', item.id)">
                <v-icon>mdi-pencil</v-icon>
            </v-btn>
        </template>
    </v-data-table>
    <v-btn color="success" href="{{ path('author_new') }}">Create new</v-btn>
{% endblock %}
